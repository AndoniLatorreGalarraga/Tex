\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage[spanish]{babel}
\usepackage{amssymb,amsmath,geometry,multicol,spalign,hyperref}
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage{tikz,mathtools}
\usepackage{pgfplots}
\pgfplotsset{every axis/.append style={
                    axis x line=middle,    % put the x axis in the middle
                    axis y line=middle,    % put the y axis in the middle
                    axis line style={<->,color=blue}, % arrows on the axis
                    xlabel={$x$},          % default put x on x-axis
                    ylabel={$y$},          % default put y on y-axis
            }}
\usepackage{etoolbox} %titulo
\makeatletter %titulo
\patchcmd{\@maketitle}{\vskip 2em}{\vspace*{-3cm}}{}{} %titulo
\makeatother %titulo
\usepackage{vmargin}
\setpapersize{A4}
\setmargins{2.5cm}       % margen izquierdo
{1.5cm}                        % margen superior
{16.5cm}                      % anchura del texto
{23.42cm}                    % altura del texto
{10pt}                           % altura de los encabezados
{1cm}                           % espacio entre el texto y los encabezados
{0pt}                             % altura del pie de p치gina
{2cm}                           % espacio entre el texto y el pie de p치gina
\title{Entrega 4}
\author{Andoni Latorre Galarraga}
\date{}
\newcommand{\bb}[1]{\mathbb{#1}}
\newcommand{\R}{\bb{R}}
\newcommand{\nota}[3][2ex]{
    \underset{\mathclap{
        \begin{tikzpicture}
          \draw[->] (0, 0) to ++(0,#1);
          \node[below] at (0,0) {#3};
        \end{tikzpicture}}}{#2}
}
\begin{document}

\maketitle
\begin{multicols}{2}
\textcolor{WildStrawberry}{Problema:}\\
Calcular un entorno tubular de la elipse $\textcolor{blue}{\alpha(t)=(\cos t, 2 \sen t})$ en $\textcolor{blue}{[-2,2]}$.\\
\begin{center}
\begin{tikzpicture}
    \begin{axis}[
            xmin=-1.5,xmax=1.5,
            ymin=-3,ymax=3,
            grid=both,
            ]
            \addplot [domain=-2:2,samples=100]({cos(deg(x))},{2*sin(deg(x))});
    \end{axis}
\end{tikzpicture}
\end{center}
Calculamos el vector normal a la curva en $\alpha(t)$.
$$
\alpha'(t) = (-\sen t, 2\cos t)
$$
Y la recta normal a la curva en $\alpha(t)$.
$$
\alpha(t)+\lambda \mathcal{J}\alpha'(t) = ((1+2\lambda)\cos t, (2+\lambda) \sen t)
$$
Intrescamos la recta con el eje $Y$.
$$
(1+2\lambda)\cos t = 0 \Rightarrow  \lambda = \frac{-1}{2}
$$
Tenemos que el punto de intersecci칩n es $(0, \frac{3}{2}\sen t)$. Como $\frac{3}{2}\sen t$ es creciente en $[\frac{-\pi}{2}, \frac{\pi}{2}]$ y decreciente en $[-2,2]\setminus [\frac{-\pi}{2}, \frac{\pi}{2}]$.
$$
\varepsilon < \inf \left\| \alpha(t)- (0, \frac{3}{2}\sen t)\right\| = \inf \sqrt{\cos^2 t + \frac{1}{4} \sen^2 t}
$$
Que es la distancia al origen de un punto en la elipse $(\cos t, \frac{1}{2}\sen t)$\\
\begin{center}
\begin{tikzpicture}
  \begin{axis}[
          xmin=-1.25,xmax=1.25,
          ymin=-0.75,ymax=0.75,
          grid=both,
          ]
          \addplot [domain=0:360,samples=360]({cos(x)},{0.5*sin(x)});
  \end{axis}
\end{tikzpicture}
\end{center}
Por lo tanto, $\varepsilon < \frac{1}{2}$. Ahora, para encontrar la frontera del entorno tublar
$$
\lambda = \pm \frac{1}{2 \left\| \alpha'(t) \right\|} = \pm \frac{1}{2 \sqrt{\sen^2 t + 4 \cos^2 t}}
$$
Y tenemos los extremos del entorno tubular
$$
\begin{array}{l}
  ((1+\frac{1}{\sqrt{\sen^2 t + 4 \cos^2 t}})\cos t, (2+\frac{1}{2 \sqrt{\sen^2 t + 4 \cos^2 t}}) \sen t) \\
  ((1-\frac{1}{\sqrt{\sen^2 t + 4 \cos^2 t}})\cos t, (2-\frac{1}{2 \sqrt{\sen^2 t + 4 \cos^2 t}}) \sen t)
\end{array}
$$
\begin{center}
\begin{tikzpicture}
  \begin{axis}[
          xmin=-1.5,xmax=1.5,
          ymin=-3,ymax=3,
          grid=both,
          ]
          \addplot [domain=-2:2,samples=100]({cos(deg(x))},{2*sin(deg(x))});
          \addplot [domain=-2:2,samples=100, color=red]({(1-1/(sin(deg(x))^2+4*cos(deg(x))^2)^0.5)*cos(deg(x))},{(2-0.5/(sin(deg(x))^2+4*cos(deg(x))^2)^0.5)*sin(deg(x))});
          \addplot [domain=-2:2,samples=100, color=red]({(1+1/(sin(deg(x))^2+4*cos(deg(x))^2)^0.5)*cos(deg(x))},{(2+0.5/(sin(deg(x))^2+4*cos(deg(x))^2)^0.5)*sin(deg(x))});
          \addplot [domain=0:1,samples=100, color=red]({-0.753738*x-0.078555*(1-x)},{2.18742*x+1.449769*(1-x)});
          \addplot [domain=0:1,samples=100, color=red]({-0.753738*x-0.078555*(1-x)},{-2.18742*x-1.449769*(1-x)});
  \end{axis}
\end{tikzpicture}
\end{center}
Dibujado sin distorsi칩n:\\
\begin{center}
\begin{tikzpicture}
  \begin{axis}[
          unit vector ratio={1 1},
          grid=both,
          ]
          \addplot [domain=-2:2,samples=100]({cos(deg(x))},{2*sin(deg(x))});
          \addplot [domain=-2:2,samples=100, color=red]({(1-1/(sin(deg(x))^2+4*cos(deg(x))^2)^0.5)*cos(deg(x))},{(2-0.5/(sin(deg(x))^2+4*cos(deg(x))^2)^0.5)*sin(deg(x))});
          \addplot [domain=-2:2,samples=100, color=red]({(1+1/(sin(deg(x))^2+4*cos(deg(x))^2)^0.5)*cos(deg(x))},{(2+0.5/(sin(deg(x))^2+4*cos(deg(x))^2)^0.5)*sin(deg(x))});
          \addplot [domain=0:1,samples=100, color=red]({-0.753738*x-0.078555*(1-x)},{2.18742*x+1.449769*(1-x)});
          \addplot [domain=0:1,samples=100, color=red]({-0.753738*x-0.078555*(1-x)},{-2.18742*x-1.449769*(1-x)});
  \end{axis}
\end{tikzpicture}
\end{center}
\end{multicols}
\end{document}